(()=>{const e=document.getElementById("email"),t=document.getElementById("zip-code"),s=document.getElementById("password"),a=document.getElementById("password-conf"),d=document.getElementById("submit-btn"),i=document.getElementById("country"),n=e=>{e.checkValidity()?e.classList.remove("invalid"):e.classList.add("invalid")},o=()=>{s.value.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/)?(s.setCustomValidity(""),console.log("you got it")):(console.log("try again"),s.setCustomValidity("Password must be 6 to 20 characters with at least one numeric digit, one uppercase, and one lowercase letter."))},l=()=>{s.value!==a.value?(a.setCustomValidity("Passwords don't match, try again!"),a.classList.add("invalid")):(a.setCustomValidity(""),a.classList.remove("invalid"))},c=()=>{const e={fr:["^(F-)?\\d{5}$","France ZIPs must have exactly 5 digits: e.g. F-75012 or 75012"],ge:["^(D-)?\\d{5}$","Germany ZIPs must have exactly 5 digits: e.g. D-12345 or 12345"],nl:["^(NL-)?\\d{4}\\s*([A-RT-Z][A-Z]|S[BCE-RT-Z])$","Netherland ZIPs must have exactly 4 digits, followed by 2 letters except SA, SD and SS"]};new RegExp(e[i.value][0],"").test(t.value)?(t.setCustomValidity(""),t.classList.remove("invalid")):(t.setCustomValidity(e[i.value][1]),t.classList.add("invalid"))};e.addEventListener("focusout",(()=>{n(e)})),s.addEventListener("focusout",(()=>{n(s),o()})),a.addEventListener("focusout",(()=>{n(a)})),d.addEventListener("click",(()=>{n(s),n(a),c(),o(),l()})),window.onload=()=>{i.onchange=c,t.oninput=c,a.oninput=l,e.oninput=n(e)}})();